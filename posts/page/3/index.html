<!DOCTYPE html>
<html>
  <head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta http-equiv="Cache-control" content="public">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <!-- Load favicon -->
  <link rel="shortcut icon" type="image/png" href="/images/beach-line.png"> 

  <title>Douglas Duhaime - Posts</title>
  <meta name="description" content="Working notes on data mining and early book history.">

  <!-- Main CSS -->
  <link rel="stylesheet" href="/css/duhaime.css" media="screen,projection" />

  <!-- Google Font -->
  <link href='https://fonts.googleapis.com/css?family=Open+Sans:400,700&subset=latin-ext' rel='stylesheet' type='text/css'>

  <!-- Syntax highlighting and css -->
  <link rel="stylesheet" type="text/css" href="/css/prism.css">

  <link rel="canonical" href="http://yourdomain.com/posts/page/3/">

  <link rel="alternate" type="application/rss+xml" title="Douglas Duhaime" href="http://yourdomain.com/feed.xml">
</head>

  <script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-71035937-1', 'auto');
  ga('send', 'pageview');

</script>

  
  <body> 
    <div id="coverImage"></div>
  <div class="hero" style="background-image: url('/images/cover_images/jefferys_banner.png')">
    <h1 class="display_title">Douglas Duhaime</h1>
  </div>

  <div class="container menu">
    <ul>
      <li><a href="/">Posts</a></li>
      <li><a href="/about">About</a></li
      <li><a href="/secret">Secret</a></li>
    </ul>
  <hr />
</div>

    
    <div class="container content">
      <div class="posts">
  
  <article class="post">
    <h1 class="post-title">
      <a href="/posts/pseudo-cryptography">
        Pseudo-Cryptography in Jonathan Swift's Tale of a Tub
      </a>
    </h1>

    <time datetime=August 6, 2014" class="date">August 6, 2014</time>

    <p>“I do here humbly propose for an Experiment,” Jonathan Swift writes near the end of his <i>Tale of a Tub</i>, “that every Prince in Christendom will take seven of the deepest Scholars in his Dominions, and shut them up close for seven Years, in seven Chambers, with a Command to write seven ample Commentaries upon [<i>A Tale of a Tub</i>].” In order to promote so useful a Work, Swift informs readers that he has encrypted some hidden messages in the <i>Tale</i>: “I have couched a very profound Mystery in the Number of O’s multiply’d by Seven, and divided by Nine.” Not wishing to leave the alchemically inclined out of his game, Swift adds: “Also, if a devout Brother of the Rosy Cross will pray fervently for sixty three Mornings, with a lively Faith, and then transpose certain Letters and Syllables according to Prescription, in the second and fifth Section; they will certainly reveal into a full Receipt of the <i>Opus Magnum</i>.” Swift then completes his triumvirate of puzzles with the following remark: “Lastly, Whoever will be at the Pains to calculate the whole Number of each Letter in this Treatise, and sum up the Difference exactly between the several Numbers, assigning the true natural Cause for every such Difference; the Discoveries in the Product, will plentifully reward his Labour” (Section X).</p>

<p>The probability that Swift actually altered his language so as to conceal occult knowledge in his already-overstuffed <i>Tale</i> may seem rather minimal to many readers. For those familiar with Swift’s delight in word games and ciphers, though, the odds might look a bit brighter. In fact, readers who have discovered Paul Childs’ essay “Cipher Against Ciphers: Jonathan Swift’s Latino-Anglicus Satire of Medicine” in <i>Cryptologia</i>—which analyzes the ways Swift transformed his suffering under Ménière’s disease into cleverly encrypted messages—might wonder whether the Dean has in fact buried some treasure in his <i>Tale</i>. With this question in mind, I decided to run some experiments to see whether I might be able to resolve some of Swift’s long-overlooked riddles.</p>

<p>Riddle One: The Mystery of the Number of O’s in Swift’s <i>Tale</i>. Some simple analysis reveals that there are 16,092 O’s in the 1710 edition of Swift’s <i>Tale of a Tub</i>. If we multiply this value by seven and divide the result by nine—the operations Swift suggests one must perform to uncover his profound Mystery—we get 12,516, a number whose significance I leave to others to determine. While this number might carry significance, the more fundamental question is whether Swift’s use of the letter O appears to be unusual or premeditated in any way. To answer this question, we can compare the relative frequency of the letter O in Swift’s Tale to the relative frequency of the letter in other documents from the eighteenth century:</p>

<p><img class="center-image" src="/images/post_images/pseudo_cryptography/relative_frequency_o.jpg" /></p>

<p>If Swift’s usage of the letter O were premeditated or unusual in any way, we should expect to see the relative frequency of the letter depart from the norm established by his contemporaries. As the plot above indicates, however, his use of the letter is perfectly in keeping with the trend of his times, which suggests Swift’s first riddle is a jest.</p>

<p>Riddle Two: “[If readers] transpose certain Letters and Syllables according to Prescription, in the second and fifth Section; they will certainly reveal into a full Receipt of the Opus Magnum”. To analyze this puzzle, we can again look at the distribution of letters in Swift’s <i>Tale</i>, this time investigating the degree to which the distribution of any letter in sections two and five look out of keeping with the distributions of those letters in other sections. More generally, we can look to see if there are any unusual distributions of letters across the sections of the text, and if there are, we can begin considering appropriate methods of transposing those letters to get the syllables with which the <i>Magnum Opus</i> is communicated.</p>

<p><img class="center-image" src="/images/post_images/pseudo_cryptography/tale_letter_distributions.png" /></p>

<p>Each section of the <i>Tale</i> is given a consistent color in this plot, so if any section contains an unusual proportion of any particular letter(s), we should expect to see a wider distribution of frequencies for that letter or those letters. Much to the would-be alchemist’s chagrin, however, the plot above indicates that there are no letters in the Tale that have wildly aberrant distributions, which effectively closes the book on the second riddle.</p>

<p>Riddle Three: “Whoever will . . . calculate the whole Number of each Letter in this Treatise, and sum up the Difference exactly between the several Numbers, assigning the true natural Cause for every such Difference; the Discoveries in the Product, will plentifully reward his Labour.” We can easily calculate the number of times each letter occurs in Swift’s <i>Tale</i>:</p>

<p><img class="center-image" src="/images/post_images/pseudo_cryptography/tale_raw_letter_freqs.png" /></p>

<p>Using these frequencies, Swift suggests, one can find “the Discoveries in the Product,” which value “will plentifully reward his Labour.” He leaves it comically unclear what is meant by “the Product,” though: does he mean the product of the difference between each letter and each other letter, or the product between the difference of each letter and the “whole Number of each Letter in this Treatise”, or some other mad metric?</p>

<p>Regardless of the answer to this question, it seems clear that Swift means these riddles to be ludic and satirical, rather than genuine encryptions. My question for readers is: who or what is Swift parodying here? Are there other texts from the period that purport to contain hidden messages in their letter counts? I ask not only because I’m fascinated by early modern ciphers, but because I want to have a fuller understanding of the specific works with which Swift was working in these delightfully flippant passages.</p>

<div class="center-text">* * *</div>

<p>The analysis above was conducted using the <a href="http://www.lehigh.edu/~amsp/tubb0-0.html">1710 edition</a> of the Tale digitized by Lehigh University.  The visualizations were produced with <a href="http://matplotlib.org/api/pyplot_api.html">Pyplot</a> using <a href="/assets/scripts/posts/pseudo_cryptography/swift_tale_scripts.zip">these scripts</a>.</p>


  </article>
  
  <article class="post">
    <h1 class="post-title">
      <a href="/posts/cocitation-networks-in-the-eebo-tcp">
        Co-citation Networks in the EEBO TCP
      </a>
    </h1>

    <time datetime=June 26, 2014" class="date">June 26, 2014</time>

    <p>I recently had the good fortune of attending a conference on <a href="http://www.notwithoutmustard.net/beyond-authorship/">computational approaches to early modern literature</a> hosted at the University of Newcastle. During the conference, I not only got to meet some outstanding scholars—including Doug Bruster, John Burrows, Hugh Craig, Mac Jackson, and Glenn Roe, to name only a few—but I also had a chance to present some of my recent work on algorithmic approaches to the study of literary influence. In case it might be of interest to others working in related fields, I thought I would share one of the approaches I discussed in what follows below.</p>

<p>Buried within the EEBO-TCP corpus, I learned some months ago, is a veritable trove of metadata. These [metadata features] indicate when authors include things like stage directions, tables of data, and alchemical symbols in their writing, all of which is great news for the computationally inclined. For those interested in influence, there are also metadata fields that indicate when an author is quoting or citing another text. By placing <code class="highlighter-rouge">&lt;q&gt;</code> tags around quotations and <code class="highlighter-rouge">&lt;bibl&gt;</code> tags around citations of authors or works, the Text Creation Partnership made it easy for researchers to begin looking for citational patterns in early modern literature:</p>

<p><img class="center-image" src="/images/post_images/eebo_cocitation/sample_eebo_xml.jpg" /></p>

<p>Using a simple script, one can easily extract all of the quotations and bibliographic citations from all files in the EEBO-TCP corpus. Because the EEBO-TCP corpus contains roughly one third of the titles from the period recorded in the definitive English Short Title Catalogue, this citational data can serve as a fairly representative archive of intertextual trends in early modern England:</p>

<p><img class="center-image" src="/images/post_images/eebo_cocitation/estc_eebo-tcp_titles.jpg" /></p>

<p>That is, at least, the idea in theory. In practice, the data is quite messy, and in its native form, is all but algorithmically unapproachable. Take, for example, the following references contained within <code class="highlighter-rouge">&lt;bibl&gt;</code> brackets:</p>

<div>
  <pre data-line=""><code class="language-shell">IUDGES V. XXIII.
Iudges, 5 23.
IVDGES 4. 21.
Iudg. 42.
[Judg. 21.]</code></pre>
</div>

<p>Human investigators who look into the matter can easily discover that each of these references refers to the Book of Judges. To allow computers to recognize this fact, however, I had to spend several weeks sifting my way through the collection of <bibl> tags, carefully identifying the texts and authors to which those metadata fields referred. In the end, of the roughly 45,000 items that were tagged as references to books or authors in the EEBO-TCP corpus (parts I and II), I found roughly a third to be too cryptic to decipher:</bibl></p>

<div>
  <pre data-line=""><code class="language-shell">W. ??.
Qu.
ﾗ Testimony of a great Divine.</code></pre>
</div>

<p>Setting these obscure references aside, I cleaned up the sources about which I was reasonably confident, such as the references to Judges above. After I had aggregated all of these, I was naturally curious to see which texts and authors were most cited in the corpus. Here are the top forty:</p>

<p><img class="center-image" src="/images/post_images/eebo_cocitation/eebo_bibl_top_forty.jpg" /></p>

<p>Biblical citations predominate, with the greatest number of references going to the Book of Psalms. (It should be noted that in most translations of the Bible into English and Latin, the Book of Psalms has by far the greatest number of verses and words.) Matthew leads the Evangelists, followed by John, then Luke, then Mark. The highest frequency Greco-Roman writers include Virgil, Ovid, Horace, Martial, Juvenal, and Seneca, in that order. While this data might not revolutionize early modern scholarship, it might be helpful in the classroom. When teaching undergraduates about the works early modern audiences read, heard, and cited, for example, such visualizations can help to bring home the profound religiosity of the age.</p>

<p>Drawing on the same data that underlies this visualization, one can also analyze networks of influence in early modern literature. Rather than conceive of influence as a series of vectors, each measuring the number of times a given work or author is cited in the TCP corpus, one can analyze the kinds of works and authors that are cited together. Such forms of analysis are often referred to as “co-citation networks,” or networks of references that tend to be cited together. For example, say our corpus contained references to only nine different sources:</p>

<p><img class="center-image" src="/images/post_images/eebo_cocitation/simple_sample_network.png" /></p>

<p>In that case, we could visualize each of these sources as a “node” in a network graph and could create an “edge,” or connecting line, between any two nodes that were cited within a text in the corpus. The sample graph above would then illustrate the fact that references “A” and “B” are cited within one text, “G” and “Z” in another, and so on. Using this method on the EEBO-TCP corpus, I thought, might help to reveal latent structures embedded within early modern citation networks. With the curated EEBO-TCP citation data in hand, I therefore proceeded in the fashion described above, transforming each cited author or work into a node, and creating edges between any two nodes cited within a single work. Here is one visualization of the results:</p>

<p><img class="center-image" src="/images/post_images/eebo_cocitation/eebo_co-citation.png" /></p>

<p>In this graph, each node has been assigned a color. These colors are determined by an algorithm that identifies clusters of nodes that are commonly cited together, and then colors the different clusters accordingly. Analyzing the nodes that cluster together, one finds four particularly well-defined groups of references: the light blue cluster of nodes, which are biblical books (Leviticus, Corinthians); the red cluster of nodes, which are classical references (Macrobius, Lucretius); the yellow cluster of nodes, which are Reformation-era martyrs and theologians (Theodore Beza, Richard Turner); and the purple cluster of nodes, which are literary writers (Philip Sidney, William Shakespeare). The results of the procedure are intuitively legible: each group represents a fairly homogenous collection of authors and works, and the divisions that split the groups apart represent fairly significant generic differences between the various references contained in the data. If this is right, then such a map could perhaps serve as a useful resource in the classroom. When discussing the so-called “battle of ancients and moderns,” for instance, graphs like the present one might help students visualize the different ways early modern citation practices established divisions between these groups.</p>

<p>Using a slightly different visualization, one can identify the points of connection between and among these ostensibly divided groups. <a href="http://duhaime.github.io/eebo-cocitation/">This link</a> will take you to an interactive site that contains all of the data included in the previous plot, including the modularity rankings that separated and color-coded the nodes. Unlike the previous plot, however, the visualization at the other end of that link allows users to click on a particular node and see all of the others to which that node is connected. Comparing the networks of each of these nodes, one can produce at a glance one measure of the degree to which the given node was cited with works and authors from the classical inheritance, for instance. The results sometimes lead to new questions. For example, the interactive plot demonstrates that when early modern authors cited Paul the Apostle in the context of classical writers like Apuleius, they cited Paul’s given name; when they cited Paul in biblical contexts, by contrast, they cited his works, such as “Romans.” Why might that be the case? Other points of interest I’ve come across in this visualization include the relatively isolation of the alchemists (George Ripley, Geber, etc.), towards the bottom of the plot, and the predominance of biblical citations in works that reference Descartes. Both of these observations strike me as less intuitive than the separation of authors into disparate modularity rankings, for instance, and both seem worthy of further inquiry.</p>


  </article>
  
  <article class="post">
    <h1 class="post-title">
      <a href="/posts/batch-processing-python-scripts-on-sge-queues">
        Batch Processing Python Scripts on Sun Grid Engine Queues
      </a>
    </h1>

    <time datetime=June 26, 2014" class="date">June 26, 2014</time>

    <p>Suppose you have a collection of text files and would like to compare each of those files to each of the others. Perhaps you would like to know which characters, locations, or stage directions in each file occur in any of the others. Whatever the task, if your collection is small enough—on the order of a few paragraphs, say—you can of course compare the files manually, reading each of your paragraphs in turn, and comparing the given paragraph to each of the others. If your collection is a bit bigger—on the order of a few hundred novels, say—you might automate these comparisons on your computer. If your collection is really big, however, a single computer might not be powerful enough to finish the job during your lifetime.</p>

<p>Comparing each file in a four text corpus to each of the others, after all, only involves six comparisons. Running the same analysis on a collection of 50,000 files (roughly the size of the Project Gutenberg collection in English, or the EEBO-TCP corpus), however, means running 1,249,975,000 comparisons. If each of those comparisons takes one minute to execute on your computer, it will take 2376 years to run this job on your machine. Thankfully, we can expedite this process tremendously by leveraging the power of distributed computing systems like Sun Grid Engine (SGE) queues. Pursuing the routine described above, for instance, we can use an SGE system to run each of our 1+ billion comparisons in a few minutes.</p>

<p>To get started, we’ll want to create an “iteration schedule” in which we identify all of the comparisons we wish to run. Here is a visual representation of an iteration schedule for a four text corpus:</p>

<p><img class="center-image" src="/images/post_images/batch_processing_on_sge/iteration_schedule_map.png" /></p>

<p>In the table above, each of our iterations-to-be-run is denoted by an “o.” Each “o” sits in the cell that joins the row and the column that denote the two texts to be analyzed in the given iteration. Reading across our first row, for instance, we see that text one does not need to be compared to text one, but does need to be compared to texts two, three, and four. The second row denotes that we want to compare text two to texts three and four, and row three denotes that we want to compare text three to text four.</p>

<p>After determining all of the comparisons to be run, we will want to render that information in machine-readable form. More specifically, we want to generate a table that has three columns: iteration_number, first_text, and second_text: where first_text and second_text are the file names of the two texts we wish to compare in the given iteration, and iteration_number is an integer whose value is zero in the first row of the iteration schedule, 1 in the next row, 2 in the next, . . . and n in the last, where n equals the total number of comparisons we wish to make. [In general, the number of comparisons required is (p-1)(p)/2, where p equals the number of files in your corpus.]  Here is a sample iteration table (produced by this [script][script-one]):</p>

<div>
  <pre data-line=""><code class="language-shell">0 A00002.txt A00005.txt
1 A00002.txt A00007.txt
2 A00002.txt A00008.txt
3 A00002.txt A00011.txt
4 A00002.txt A00012.txt
5 A00002.txt A00013.txt
6 A00002.txt A00014.txt
7 A00002.txt A00015.txt
8 A00002.txt A00018.txt
9 A00002.txt A00019.txt</code></pre>
</div>

<p>If you want to batch process a different kind of routine on an SGE system, you can modify your iteration schedule appropriately. If you only want to calculate the type-token ratios of each of your files, for instance, you’ll only need two columns: iteration_number and text_name. Once this iteration schedule is all set, we can turn to the script to be run during each of these iterations. <a href="https://github.com/duhaime/batch_processing_on_sge/blob/master/test.py">Here’s mine</a>: If you want to run a different kind of analysis, just keep lines 1-21 and line 102 of that script, and use the variable “iteration_number” to guide which texts you will analyze in each iteration. Once your routine is all set, save it as “test.py” and upload it—along with your iteration schedule, the files you wish to compare, and these two <a href="https://github.com/duhaime/batch_processing_on_sge/blob/master/_run_me.py">higher order scripts</a>—to a single directory on your SGE server:</p>

<p><img class="center-image" src="/images/post_images/batch_processing_on_sge/prepared_for_batch_submission.png" /></p>

<p>Once all of these files are in the same directory, you are ready to submit your script for batch processing. To do so using the University of Notre Dame’s Center for Research Computing system, you can simply type “python _run_me.py cmd_run.py your_netid” with no quotation marks:</p>

<p><img class="center-image" src="/images/post_images/batch_processing_on_sge/batch_sge_submission.png" /></p>

<p>After you submit this command, the higher-order Python scripts <em>run_me.py and cmd_run.py will create new copies of your test.py script, changing the input files for each iteration according to your iteration schedule. If all has gone well, and you refresh the directory after a few moments, you’ll see a few (or more than a few, depending on the number of iterations you are running!) new files in your directory. More specifically, you’ll have a collection of new job</em> files that give you feedback on the result of each of your iterations. If errors cropped up during your analysis, those errors should be recorded in these job_ files. Provided that there were no exceptions, though, those files will be empty, and you will find in your directory whatever output you requested in your test.py script. Et voila, now you can finish your analysis in a few minutes, rather than a few millennia!</p>

<div class="center-text">* * *</div>

<p>I want to thank Scott Hampton and Dodi Heryadi of Notre Dame’s High Performance Computing Group, who helped me think through the logistics of batch processing, Reid Johnson of Notre Dame’s Computer Science Department, who sent me the higher-order SGE scripts on which this analysis is based, and Tim Peters, who wrote many of the Python modules on which my work depends!</p>


  </article>
  
</div>



<div class="pagination center-text">
  <ul>
    
      
        <li>
          <a href="/page2">&laquo;</a>
        </li>
      

    

    
      <li>
        <a href="/">1</a>
      </li>
    
    
      
        <li>
          <a href="/posts/page/2">2</a>
        </li>
      
    
      
        <li class="active">
          <a href="#">3</a>
        </li>
      
    
      
        <li>
          <a href="/posts/page/4">4</a>
        </li>
      
    
    
      <li>
        <a href="/posts/page/4">&raquo;</a>
      </li>
    
  </ul>
</div>



    </div>

    <footer class="site-footer">
  <div class="wrapper">
    <ul class="social-media-list">

    
      <style>
.icon--github path {
  fill: black
}
</style>

<a href="https://github.com/duhaime" style="text-decoration: none">
  <span class="icon icon--github" id="github-icon"><svg viewBox="0 0 16 16"><path fill="#828282" d="M7.999,0.431c-4.285,0-7.76,3.474-7.76,7.761 c0,3.428,2.223,6.337,5.307,7.363c0.388,0.071,0.53-0.168,0.53-0.374c0-0.184-0.007-0.672-0.01-1.32 c-2.159,0.469-2.614-1.04-2.614-1.04c-0.353-0.896-0.862-1.135-0.862-1.135c-0.705-0.481,0.053-0.472,0.053-0.472 c0.779,0.055,1.189,0.8,1.189,0.8c0.692,1.186,1.816,0.843,2.258,0.645c0.071-0.502,0.271-0.843,0.493-1.037 C4.86,11.425,3.049,10.76,3.049,7.786c0-0.847,0.302-1.54,0.799-2.082C3.768,5.507,3.501,4.718,3.924,3.65 c0,0,0.652-0.209,2.134,0.796C6.677,4.273,7.34,4.187,8,4.184c0.659,0.003,1.323,0.089,1.943,0.261 c1.482-1.004,2.132-0.796,2.132-0.796c0.423,1.068,0.157,1.857,0.077,2.054c0.497,0.542,0.798,1.235,0.798,2.082 c0,2.981-1.814,3.637-3.543,3.829c0.279,0.24,0.527,0.713,0.527,1.437c0,1.037-0.01,1.874-0.01,2.129 c0,0.208,0.14,0.449,0.534,0.373c3.081-1.028,5.302-3.935,5.302-7.362C15.76,3.906,12.285,0.431,7.999,0.431z"/></svg>
</span>
</a>

    

    
      <style>
.icon--twitter path {
  fill: #42C0FB 
}
</style>

<a href="https://twitter.com/douglasduhaime" style="text-decoration: none">
  <span class="icon icon--twitter"><svg viewBox="0 0 16 16"><path fill="#828282" d="M15.969,3.058c-0.586,0.26-1.217,0.436-1.878,0.515c0.675-0.405,1.194-1.045,1.438-1.809c-0.632,0.375-1.332,0.647-2.076,0.793c-0.596-0.636-1.446-1.033-2.387-1.033c-1.806,0-3.27,1.464-3.27,3.27 c0,0.256,0.029,0.506,0.085,0.745C5.163,5.404,2.753,4.102,1.14,2.124C0.859,2.607,0.698,3.168,0.698,3.767 c0,1.134,0.577,2.135,1.455,2.722C1.616,6.472,1.112,6.325,0.671,6.08c0,0.014,0,0.027,0,0.041c0,1.584,1.127,2.906,2.623,3.206 C3.02,9.402,2.731,9.442,2.433,9.442c-0.211,0-0.416-0.021-0.615-0.059c0.416,1.299,1.624,2.245,3.055,2.271 c-1.119,0.877-2.529,1.4-4.061,1.4c-0.264,0-0.524-0.015-0.78-0.046c1.447,0.928,3.166,1.469,5.013,1.469 c6.015,0,9.304-4.983,9.304-9.304c0-0.142-0.003-0.283-0.009-0.423C14.976,4.29,15.531,3.714,15.969,3.058z"/></svg>
</span>
</a>

    

    </ul>
  </div>
</footer>

<!--Load assets here for async behavior-->
<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>

<!-- prism js must come after content -->
<script src="/js/prism.js"></script>

<!-- lightbox assets -->
<link href="/css/lightbox.css" rel='stylesheet' type='text/css'>
<script src="/js/lightbox.js"></script>

  </body>

</html>
